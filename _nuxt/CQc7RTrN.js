import{u as J,a as re,b as de,c as ue,d as ce,e as pe,i as me,E as fe}from"./BH2NPJ5c.js";import{E as ve}from"./C41m7MR8.js";import{x as L,r as w,i as be,m as y,g as R,c as g,o as v,a as k,y as Q,z as W,p as e,A as N,B as E,q as z,C as q,d as S,t as I,D as X,v as _e,E as Y,G as ye,H as ge,I as ke,J as xe,F as G,n as P,j as Z,K as Ee,L as Ve,M as Be,b as h,w as V,N as Ce,O as he,_ as Se}from"./B91_JGNm.js";import{i as M,b as O,c as D,d as j,_ as F,u as A,e as H,w as Ie,f as ee}from"./1AO-i3Qm.js";import{C as U,U as T}from"./BB_Ol6Sd.js";import{u as we,d as Re}from"./Cl2ZIHhT.js";import{u as $e}from"./Cux0SVlX.js";import{o as Ge}from"./cteaqEPL.js";import{E as Ne}from"./CL-F4SxQ.js";import"./CzviV5vG.js";import{E as $}from"./DujAN_dh.js";import"./D-oLGap2.js";import"./BgU5F3RL.js";import"./B4Eicqft.js";import"./D6FW0B1r.js";import"./ln9MLy3v.js";import"./Bp3YSIOJ.js";const oe=D({modelValue:{type:[String,Number,Boolean],default:void 0},size:J,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),De=D({...oe,border:Boolean}),ae={[T]:i=>L(i)||M(i)||O(i),[U]:i=>L(i)||M(i)||O(i)},te=Symbol("radioGroupKey"),se=(i,b)=>{const t=w(),a=be(te,void 0),d=y(()=>!!a),_=y(()=>j(i.value)?i.label:i.value),n=y({get(){return d.value?a.modelValue:i.modelValue},set(o){d.value?a.changeEvent(o):b&&b(T,o),t.value.checked=i.modelValue===_.value}}),f=re(y(()=>a?.size)),l=de(y(()=>a?.disabled)),u=w(!1),r=y(()=>l.value||d.value&&n.value!==_.value?-1:0);return ue({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},y(()=>d.value&&j(i.value))),{radioRef:t,isGroup:d,radioGroup:a,focus:u,size:f,disabled:l,tabIndex:r,modelValue:n,actualValue:_}},Pe=R({name:"ElRadio"}),ze=R({...Pe,props:De,emits:ae,setup(i,{emit:b}){const t=i,a=A("radio"),{radioRef:d,radioGroup:_,focus:n,size:f,disabled:l,modelValue:u,actualValue:r}=se(t,b);function o(){X(()=>b(U,u.value))}return(p,B)=>{var s;return v(),g("label",{class:E([e(a).b(),e(a).is("disabled",e(l)),e(a).is("focus",e(n)),e(a).is("bordered",p.border),e(a).is("checked",e(u)===e(r)),e(a).m(e(f))])},[k("span",{class:E([e(a).e("input"),e(a).is("disabled",e(l)),e(a).is("checked",e(u)===e(r))])},[Q(k("input",{ref_key:"radioRef",ref:d,"onUpdate:modelValue":m=>z(u)?u.value=m:null,class:E(e(a).e("original")),value:e(r),name:p.name||((s=e(_))==null?void 0:s.name),disabled:e(l),checked:e(u)===e(r),type:"radio",onFocus:m=>n.value=!0,onBlur:m=>n.value=!1,onChange:o,onClick:N(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[W,e(u)]]),k("span",{class:E(e(a).e("inner"))},null,2)],2),k("span",{class:E(e(a).e("label")),onKeydown:N(()=>{},["stop"])},[q(p.$slots,"default",{},()=>[S(I(p.label),1)])],42,["onKeydown"])],2)}}});var le=F(ze,[["__file","radio.vue"]]);const qe=D({...oe}),Fe=R({name:"ElRadioButton"}),Ae=R({...Fe,props:qe,setup(i){const b=i,t=A("radio"),{radioRef:a,focus:d,size:_,disabled:n,modelValue:f,radioGroup:l,actualValue:u}=se(b),r=y(()=>({backgroundColor:l?.fill||"",borderColor:l?.fill||"",boxShadow:l?.fill?`-1px 0 0 0 ${l.fill}`:"",color:l?.textColor||""}));return(o,p)=>{var B;return v(),g("label",{class:E([e(t).b("button"),e(t).is("active",e(f)===e(u)),e(t).is("disabled",e(n)),e(t).is("focus",e(d)),e(t).bm("button",e(_))])},[Q(k("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":s=>z(f)?f.value=s:null,class:E(e(t).be("button","original-radio")),value:e(u),type:"radio",name:o.name||((B=e(l))==null?void 0:B.name),disabled:e(n),onFocus:s=>d.value=!0,onBlur:s=>d.value=!1,onClick:N(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[W,e(f)]]),k("span",{class:E(e(t).be("button","inner")),style:_e(e(f)===e(u)?e(r):{}),onKeydown:N(()=>{},["stop"])},[q(o.$slots,"default",{},()=>[S(I(o.label),1)])],46,["onKeydown"])],2)}}});var K=F(Ae,[["__file","radio-button.vue"]]);const Ue=D({id:{type:String,default:void 0},size:J,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:H(Array)},props:{type:H(Object),default:()=>ie},type:{type:String,values:["radio","button"],default:"radio"},...we(["ariaLabel"])}),Te=ae,ie={label:"label",value:"value",disabled:"disabled"},Ke=R({name:"ElRadioGroup"}),Le=R({...Ke,props:Ue,emits:Te,setup(i,{emit:b}){const t=i,a=A("radio"),d=$e(),_=w(),{formItem:n}=ce(),{inputId:f,isLabeledByFormItem:l}=pe(t,{formItemContext:n}),u=s=>{b(T,s),X(()=>b(U,s))};Y(()=>{const s=_.value.querySelectorAll("[type=radio]"),m=s[0];!Array.from(s).some(x=>x.checked)&&m&&(m.tabIndex=0)});const r=y(()=>t.name||d.value),o=y(()=>({...ie,...t.props})),p=s=>{const{label:m,value:x,disabled:c}=o.value,C={label:s[m],value:s[x],disabled:s[c]};return{...Ge(s,[m,x,c]),...C}},B=y(()=>t.type==="button"?K:le);return ye(te,ge({...ke(t),changeEvent:u,name:r})),xe(()=>t.modelValue,(s,m)=>{t.validateEvent&&!me(s,m)&&n?.validate("change").catch(x=>Re())}),(s,m)=>(v(),g("div",{id:e(f),ref_key:"radioGroupRef",ref:_,class:E(e(a).b("group")),role:"radiogroup","aria-label":e(l)?void 0:s.ariaLabel||"radio-group","aria-labelledby":e(l)?e(n).labelId:void 0},[q(s.$slots,"default",{},()=>[(v(!0),g(G,null,P(s.options,(x,c)=>(v(),Z(Ve(e(B)),Ee({key:c},p(x)),null,16))),128))])],10,["id","aria-label","aria-labelledby"]))}});var ne=F(Le,[["__file","radio-group.vue"]]);const Me=Ie(le,{RadioButton:K,RadioGroup:ne}),Oe=ee(ne);ee(K);const je={key:0,class:"loading-container"},He={key:1,class:"question-container"},Je={class:"title"},Qe={key:0,class:"description"},We={class:"question-text"},Xe={class:"submit-btn-wrap"},Ye={class:"dialog-footer"},Ze=R({__name:"[id]",setup(i){const b=Be(),t=w(!0),a=w({id:0,title:"",questions:[]}),d=w(!1),_={id:1,title:"心理健康量表",description:"请根据您的实际情况选择最符合的选项。",questions:[{id:1,name:"你最近是否感到情绪低落？",options:[{id:1,text:"从不"},{id:2,text:"偶尔"},{id:3,text:"经常"},{id:4,text:"总是"}]},{id:2,name:"你是否对平时感兴趣的事物失去兴趣？",options:[{id:1,text:"从不"},{id:2,text:"偶尔"},{id:3,text:"经常"},{id:4,text:"总是"}]},{id:3,name:"你是否对平时感兴趣的事物失去兴趣？",options:[{id:1,text:"从不"},{id:2,text:"偶尔"},{id:3,text:"经常"},{id:4,text:"总是"}]},{id:4,name:"你是否对平时感兴趣的事物失去兴趣？",options:[{id:1,text:"从不"},{id:2,text:"偶尔"},{id:3,text:"经常"},{id:4,text:"总是"}]},{id:5,name:"你是否对平时感兴趣的事物失去兴趣？",options:[{id:1,text:"从不"},{id:2,text:"偶尔"},{id:3,text:"经常"},{id:4,text:"总是"}]}]},n=w({}),f=async r=>{t.value=!0;try{const o=_;o?(a.value=o,o.questions.forEach(p=>{n.value[p.id]||(n.value[p.id]=0)})):$.error("题目不存在")}catch{$.error("获取题目失败")}finally{t.value=!1}},l=y(()=>{const r=a.value.questions;return r.length===0?!1:r.every(o=>n.value[o.id]>0)}),u=()=>{const r={questionnaireId:a.value.id,answers:n.value};console.log("提交的答题数据：",r),$.success("答题提交成功！")};return Y(()=>{b.params.id?f():($.warning("缺少题目ID"),t.value=!1)}),(r,o)=>{const p=fe,B=ve,s=Me,m=Oe,x=Ne;return v(),g(G,null,[h(p,{onClick:o[0]||(o[0]=c=>d.value=!0),style:{position:"fixed",left:"5px",top:"5px"},type:"primary"},{default:V(()=>[...o[4]||(o[4]=[S("返回题目列表",-1)])]),_:1}),e(t)?(v(),g("div",je,[h(B,{rows:5,animated:""})])):(v(),g("div",He,[k("h1",Je,I(e(a).title),1),e(a).description?(v(),g("p",Qe,I(e(a).description),1)):Ce("",!0),(v(!0),g(G,null,P(e(a).questions,c=>(v(),g("div",{key:c.id,class:"question-block"},[k("h3",We,I(c.id)+". "+I(c.name),1),h(m,{modelValue:e(n)[c.id],"onUpdate:modelValue":C=>e(n)[c.id]=C,class:"radio-group"},{default:V(()=>[(v(!0),g(G,null,P(c.options,C=>(v(),Z(s,{key:C.id,value:C.id,class:"radio-option"},{default:V(()=>[S(I(C.text),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128)),k("div",Xe,[h(p,{type:"primary",size:"large",onClick:u,disabled:!e(l)},{default:V(()=>[...o[5]||(o[5]=[S(" 提交答案 ",-1)])]),_:1},8,["disabled"])])])),h(x,{modelValue:e(d),"onUpdate:modelValue":o[3]||(o[3]=c=>z(d)?d.value=c:null),title:"提示",width:"500"},{footer:V(()=>[k("div",Ye,[h(p,{onClick:o[1]||(o[1]=c=>d.value=!1)},{default:V(()=>[...o[6]||(o[6]=[S("取消",-1)])]),_:1}),h(p,{type:"primary",onClick:o[2]||(o[2]=c=>("navigateTo"in r?r.navigateTo:e(he))({name:"question"}))},{default:V(()=>[...o[7]||(o[7]=[S(" 确认 ",-1)])]),_:1})])]),default:V(()=>[o[8]||(o[8]=k("span",null,"是否返回？答题情况不会保存",-1))]),_:1},8,["modelValue"])],64)}}}),yo=Se(Ze,[["__scopeId","data-v-761b6825"]]);export{yo as default};
