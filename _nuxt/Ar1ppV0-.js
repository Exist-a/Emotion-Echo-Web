import{E as ie,n as Ee,a as Ce}from"./BH2NPJ5c.js";import{u as H,r as Te,a as Q,O as $e,E as Se}from"./RgV06_rq.js";import{E as Fe}from"./VVnNV-vw.js";import{_ as P,c as j,e as C,p as Oe,a as Re,E as de,u as ee,q as Ne,w as ke,f as ue}from"./1AO-i3Qm.js";import{g as W,c as $,u as Be,E as B,w as re}from"./B4Eicqft.js";import{g as K,C as S,r as y,i as F,E as Pe,p as T,a0 as Ke,G as A,m as E,ac as U,ak as Me,J as De,D as Ae,X as _,j as G,o as N,w as I,b as R,al as Ge,am as Le,c as V,N as Z,ad as ze,K as Y,B as J,W as ce,a as Ue,L as He,A as x,F as Ve,v as Ye}from"./B91_JGNm.js";import{u as pe}from"./Cux0SVlX.js";import{c as Je}from"./BhUPguzI.js";import{c as fe}from"./D6FW0B1r.js";const je=K({inheritAttrs:!1});function We(e,o,s,n,i,d){return S(e.$slots,"default")}var qe=P(je,[["render",We],["__file","collection.vue"]]);const Xe=K({name:"ElCollectionItem",inheritAttrs:!1});function Qe(e,o,s,n,i,d){return S(e.$slots,"default")}var Ze=P(Xe,[["render",Qe],["__file","collection-item.vue"]]);const me="data-el-collection-item",xe=e=>{const o=`El${e}Collection`,s=`${o}Item`,n=Symbol(o),i=Symbol(s),d={...qe,name:o,setup(){const r=y(),c=new Map;A(n,{itemMap:c,getItems:()=>{const p=T(r);if(!p)return[];const t=Array.from(p.querySelectorAll(`[${me}]`));return[...c.values()].sort((g,w)=>t.indexOf(g.ref)-t.indexOf(w.ref))},collectionRef:r})}},a={...Ze,name:s,setup(r,{attrs:c}){const v=y(),p=F(n,void 0);A(i,{collectionItemRef:v}),Pe(()=>{const t=T(v);t&&p.itemMap.set(t,{ref:t,...c})}),Ke(()=>{const t=T(v);p.itemMap.delete(t)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:d,ElCollectionItem:a}},eo=j({style:{type:C([String,Array,Object])},currentTabId:{type:C(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:C(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:oo,ElCollectionItem:no,COLLECTION_INJECTION_KEY:ve,COLLECTION_ITEM_INJECTION_KEY:to}=xe("RovingFocusGroup"),oe=Symbol("elRovingFocusGroup"),ge=Symbol("elRovingFocusGroupItem"),ro={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},lo=(e,o)=>e,so=(e,o,s)=>{const n=W(e),i=lo(n);return ro[i]},ao=(e,o)=>e.map((s,n)=>e[(n+o)%e.length]),le=e=>{const{activeElement:o}=document;for(const s of e)if(s===o||(s.focus(),o!==document.activeElement))return},se="currentTabIdChange",ae="rovingFocusGroup.entryFocus",io={bubbles:!1,cancelable:!0},uo=K({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:eo,emits:[se,"entryFocus"],setup(e,{emit:o}){var s;const n=y((s=e.currentTabId||e.defaultCurrentTabId)!=null?s:null),i=y(!1),d=y(!1),a=y(),{getItems:r}=F(ve,void 0),c=E(()=>[{outline:"none"},e.style]),v=u=>{o(se,u)},p=()=>{i.value=!0},t=$(u=>{var b;(b=e.onMousedown)==null||b.call(e,u)},()=>{d.value=!0}),l=$(u=>{var b;(b=e.onFocus)==null||b.call(e,u)},u=>{const b=!T(d),{target:D,currentTarget:h}=u;if(D===h&&b&&!T(i)){const f=new Event(ae,io);if(h?.dispatchEvent(f),!f.defaultPrevented){const O=r().filter(k=>k.focusable),L=O.find(k=>k.active),z=O.find(k=>k.id===T(n)),X=[L,z,...O].filter(Boolean).map(k=>k.ref);le(X)}}d.value=!1}),g=$(u=>{var b;(b=e.onBlur)==null||b.call(e,u)},()=>{i.value=!1}),w=(...u)=>{o("entryFocus",...u)},M=u=>{const b=so(u);if(b){u.preventDefault();let h=r().filter(f=>f.focusable).map(f=>f.ref);switch(b){case"last":{h.reverse();break}case"prev":case"next":{b==="prev"&&h.reverse();const f=h.indexOf(u.currentTarget);h=e.loop?ao(h,f+1):h.slice(f+1);break}}Ae(()=>{le(h)})}};A(oe,{currentTabbedId:Me(n),loop:U(e,"loop"),tabIndex:E(()=>T(i)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:c,orientation:U(e,"orientation"),dir:U(e,"dir"),onItemFocus:v,onItemShiftTab:p,onBlur:g,onFocus:l,onMousedown:t,onKeydown:M}),De(()=>e.currentTabId,u=>{n.value=u??null}),Be(a,ae,w)}});function co(e,o,s,n,i,d){return S(e.$slots,"default")}var po=P(uo,[["render",co],["__file","roving-focus-group-impl.vue"]]);const fo=K({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:oo,ElRovingFocusGroupImpl:po}});function mo(e,o,s,n,i,d){const a=_("el-roving-focus-group-impl"),r=_("el-focus-group-collection");return N(),G(r,null,{default:I(()=>[R(a,Ge(Le(e.$attrs)),{default:I(()=>[S(e.$slots,"default")]),_:3},16)]),_:3})}var vo=P(fo,[["render",mo],["__file","roving-focus-group.vue"]]);const go=j({trigger:{...Q.trigger,type:C([String,Array])},triggerKeys:{type:C(Array),default:()=>[B.enter,B.numpadEnter,B.space,B.down]},virtualTriggering:Q.virtualTriggering,virtualRef:Q.virtualRef,effect:{...H.effect,default:"light"},type:{type:C(String)},placement:{type:C(String),default:"bottom"},popperOptions:{type:C(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:C([Number,String]),default:0},maxHeight:{type:C([Number,String]),default:""},popperClass:H.popperClass,popperStyle:H.popperStyle,disabled:Boolean,role:{type:String,values:Te,default:"menu"},buttonProps:{type:C(Object)},teleported:H.teleported,persistent:{type:Boolean,default:!0}}),be=j({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Oe}}),bo=j({onKeydown:{type:C(Function)}}),q=Symbol("elDropdown"),we="elDropdown",{ButtonGroup:wo}=ie,ho=K({name:"ElDropdown",components:{ElButton:ie,ElButtonGroup:wo,ElScrollbar:Fe,ElTooltip:Se,ElRovingFocusGroup:vo,ElOnlyChild:$e,ElIcon:de,ArrowDown:Re},props:go,emits:["visible-change","click","command"],setup(e,{emit:o}){const s=ce(),n=ee("dropdown"),{t:i}=Ee(),d=y(),a=y(),r=y(),c=y(),v=y(null),p=y(null),t=y(!1),l=E(()=>({maxHeight:Ne(e.maxHeight)})),g=E(()=>[n.m(f.value)]),w=E(()=>Je(e.trigger)),M=pe().value,u=E(()=>e.id||M);function b(){var m;(m=r.value)==null||m.onClose(void 0,0)}function D(){var m;(m=r.value)==null||m.onClose()}function h(){var m;(m=r.value)==null||m.onOpen()}const f=Ce();function O(...m){o("command",...m)}function L(){}function z(){const m=T(c);w.value.includes("hover")&&m?.focus({preventScroll:!0}),p.value=null}function ne(m){p.value=m}function X(){o("visible-change",!0)}function k(m){var te;t.value=m?.type==="keydown",(te=c.value)==null||te.focus()}function ye(){o("visible-change",!1)}return A(q,{contentRef:c,role:E(()=>e.role),triggerId:u,isUsingKeyboard:t,onItemEnter:L,onItemLeave:z,handleClose:D}),A(we,{instance:s,dropdownSize:f,handleClick:b,commandHandler:O,trigger:U(e,"trigger"),hideOnClick:U(e,"hideOnClick")}),{t:i,ns:n,scrollbar:v,wrapStyle:l,dropdownTriggerKls:g,dropdownSize:f,triggerId:u,currentTabId:p,handleCurrentTabIdChange:ne,handlerMainButtonClick:m=>{o("click",m)},handleClose:D,handleOpen:h,handleBeforeShowTooltip:X,handleShowTooltip:k,handleBeforeHideTooltip:ye,popperRef:r,contentRef:c,triggeringElementRef:d,referenceElementRef:a}}});function Io(e,o,s,n,i,d){var a;const r=_("el-roving-focus-group"),c=_("el-scrollbar"),v=_("el-only-child"),p=_("el-tooltip"),t=_("el-button"),l=_("arrow-down"),g=_("el-icon"),w=_("el-button-group");return N(),V("div",{class:J([e.ns.b(),e.ns.is("disabled",e.disabled)])},[R(p,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"popper-style":e.popperStyle,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":e.trigger==="hover"?e.showTimeout:0,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"virtual-ref":(a=e.virtualRef)!=null?a:e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"","focus-on-target":"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ze({content:I(()=>[R(c,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:I(()=>[R(r,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange},{default:I(()=>[S(e.$slots,"dropdown")]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:I(()=>[R(v,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:I(()=>[S(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","placement","popper-class","popper-style","trigger","trigger-keys","trigger-target-el","show-arrow","show-after","hide-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(N(),G(w,{key:0},{default:I(()=>[R(t,Y({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:I(()=>[S(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),R(t,Y({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:I(()=>[R(g,{class:J(e.ns.e("icon"))},{default:I(()=>[R(l)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Z("v-if",!0)],2)}var _o=P(ho,[["render",Io],["__file","dropdown.vue"]]);const yo=K({components:{ElRovingFocusCollectionItem:no},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:s,onItemFocus:n,onItemShiftTab:i,onKeydown:d}=F(oe,void 0),a=pe(),r=y(),c=$(l=>{o("mousedown",l)},l=>{e.focusable?n(T(a)):l.preventDefault()}),v=$(l=>{o("focus",l)},()=>{n(T(a))}),p=$(l=>{o("keydown",l)},l=>{const{shiftKey:g,target:w,currentTarget:M}=l;if(W(l)===B.tab&&g){i();return}w===M&&d(l)}),t=E(()=>s.value===T(a));return A(ge,{rovingFocusGroupItemRef:r,tabIndex:E(()=>T(t)?0:-1),handleMousedown:c,handleFocus:v,handleKeydown:p}),{id:a,handleKeydown:p,handleFocus:v,handleMousedown:c}}});function Eo(e,o,s,n,i,d){const a=_("el-roving-focus-collection-item");return N(),G(a,{id:e.id,focusable:e.focusable,active:e.active},{default:I(()=>[S(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Co=P(yo,[["render",Eo],["__file","roving-focus-item.vue"]]);const To=K({name:"DropdownItemImpl",components:{ElIcon:de},props:be,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const s=ee("dropdown"),{role:n}=F(q,void 0),{collectionItemRef:i}=F(to,void 0),{rovingFocusGroupItemRef:d,tabIndex:a,handleFocus:r,handleKeydown:c,handleMousedown:v}=F(ge,void 0),p=fe(i,d),t=E(()=>n.value==="menu"?"menuitem":n.value==="navigation"?"link":"button"),l=$(g=>{const w=W(g);if([B.enter,B.numpadEnter,B.space].includes(w))return g.preventDefault(),g.stopImmediatePropagation(),o("clickimpl",g),!0},c);return{ns:s,itemRef:p,dataset:{[me]:""},role:t,tabIndex:a,handleFocus:r,handleKeydown:l,handleMousedown:v}}});function $o(e,o,s,n,i,d){const a=_("el-icon");return N(),V(Ve,null,[e.divided?(N(),V("li",{key:0,role:"separator",class:J(e.ns.bem("menu","item","divided"))},null,2)):Z("v-if",!0),Ue("li",Y({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:r=>e.$emit("clickimpl",r),onFocus:e.handleFocus,onKeydown:x(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:r=>e.$emit("pointermove",r),onPointerleave:r=>e.$emit("pointerleave",r)}),[e.icon?(N(),G(a,{key:0},{default:I(()=>[(N(),G(He(e.icon)))]),_:1})):Z("v-if",!0),S(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var So=P(To,[["render",$o],["__file","dropdown-item-impl.vue"]]);const he=()=>{const e=F(we,{}),o=E(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},Fo=K({name:"ElDropdownItem",components:{ElRovingFocusItem:Co,ElDropdownItemImpl:So},inheritAttrs:!1,props:be,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:s}){const{elDropdown:n}=he(),i=ce(),{onItemEnter:d,onItemLeave:a}=F(q,void 0),r=$(t=>(o("pointermove",t),t.defaultPrevented),re(t=>{if(e.disabled){a(t);return}const l=t.currentTarget;l===document.activeElement||l.contains(document.activeElement)||(d(t),t.defaultPrevented||l?.focus({preventScroll:!0}))})),c=$(t=>(o("pointerleave",t),t.defaultPrevented),re(a)),v=$(t=>{if(!e.disabled)return o("click",t),t.type!=="keydown"&&t.defaultPrevented},t=>{var l,g,w;if(e.disabled){t.stopImmediatePropagation();return}(l=n?.hideOnClick)!=null&&l.value&&((g=n.handleClick)==null||g.call(n)),(w=n.commandHandler)==null||w.call(n,e.command,i,t)}),p=E(()=>({...e,...s}));return{handleClick:v,handlePointerMove:r,handlePointerLeave:c,propsAndAttrs:p}}});function Oo(e,o,s,n,i,d){const a=_("el-dropdown-item-impl"),r=_("el-roving-focus-item");return N(),G(r,{focusable:!e.disabled},{default:I(()=>[R(a,Y(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:I(()=>[S(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])}var Ie=P(Fo,[["render",Oo],["__file","dropdown-item.vue"]]);const Ro=K({name:"ElDropdownMenu",props:bo,setup(e){const o=ee("dropdown"),{_elDropdownSize:s}=he(),n=s.value,{contentRef:i,role:d,triggerId:a,isUsingKeyboard:r,handleClose:c}=F(q,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:p,onBlur:t,onFocus:l,onKeydown:g,onMousedown:w}=F(oe,void 0),{collectionRef:M}=F(ve,void 0),u=E(()=>[o.b("menu"),o.bm("menu",n?.value)]),b=fe(i,v,M),D=$(f=>{var O;(O=e.onKeydown)==null||O.call(e,f)},f=>{const{currentTarget:O,target:L}=f,z=W(f);if(O.contains(L),B.tab===z)return c();g(f)});function h(f){r.value&&l(f)}return{size:n,rovingFocusGroupRootStyle:p,dropdownKls:u,role:d,triggerId:a,dropdownListWrapperRef:b,handleKeydown:D,onBlur:t,handleFocus:h,onMousedown:w}}});function No(e,o,s,n,i,d){return N(),V("ul",{ref:e.dropdownListWrapperRef,class:J(e.dropdownKls),style:Ye(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onFocusin:e.handleFocus,onFocusout:e.onBlur,onKeydown:x(e.handleKeydown,["self"]),onMousedown:x(e.onMousedown,["self"])},[S(e.$slots,"default")],46,["role","aria-labelledby","onFocusin","onFocusout","onKeydown","onMousedown"])}var _e=P(Ro,[["render",No],["__file","dropdown-menu.vue"]]);const Uo=ke(_o,{DropdownItem:Ie,DropdownMenu:_e}),Ho=ue(Ie),Vo=ue(_e);export{Uo as E,Vo as a,Ho as b};
