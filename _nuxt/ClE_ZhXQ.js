import{E as w}from"./DhKVA3DV.js";import{E as x,a as k,p as B}from"./DUjTV1MO.js";import{E as F}from"./BH2NPJ5c.js";import"./1AO-i3Qm.js";import{E as u}from"./D_9vw2rQ.js";import{v as I}from"./QCqsnsf1.js";import{g as N,r as n,c as S,a as R,b as t,w as r,p as e,o as T,d as f,t as h,O as q,_ as A}from"./B91_JGNm.js";import{u as D}from"./B_O1vZMc.js";import"./B4Eicqft.js";import"./Bp3YSIOJ.js";import"./Cl2ZIHhT.js";import"./Cux0SVlX.js";import"./BB_Ol6Sd.js";import"./BhUPguzI.js";import"./D-oLGap2.js";import"./Dv1JYxKo.js";const O={class:"verify-container"},U="秒后重新获取",G=N({__name:"verify",emits:["changeActive"],setup(M,{emit:_}){const g=_,l=n(),s=n({username:"",verificationCode:""}),v=n({username:[{required:!0,message:"请输入手机号或邮箱",trigger:"blur"},{pattern:B,message:"请输入有效的手机号或邮箱",trigger:"blur"}],verificationCode:[{required:!0,message:"请输入验证码"}]}),{startCountdown:C,isGetVerificationCode:m,lastSeconds:y}=I(),b=()=>{l.value?.validateField("username",a=>{if(console.log(a),!a){u({title:"无法获取验证码",message:"请填写正确的账户",type:"error"});return}u({title:"验证码已发送",message:"请注意查收",type:"success"}),C()})},E=()=>{q("/login/forget/modify");const{updateStep:a}=D();a(1),g("changeActive")};return(a,o)=>{const p=w,d=k,c=F,V=x;return T(),S("div",O,[o[3]||(o[3]=R("h2",{class:"title"},"确认账号",-1)),t(V,{ref_key:"formRef",ref:l,model:e(s),rules:e(v),class:"form"},{default:r(()=>[t(d,{prop:"username",label:"账号","label-position":"top"},{default:r(()=>[t(p,{modelValue:e(s).username,"onUpdate:modelValue":o[0]||(o[0]=i=>e(s).username=i),placeholder:"请输入账号",class:"input"},null,8,["modelValue"])]),_:1}),t(d,{prop:"verificationCode",label:"验证码","label-position":"top"},{default:r(()=>[t(p,{modelValue:e(s).verificationCode,"onUpdate:modelValue":o[1]||(o[1]=i=>e(s).verificationCode=i),"show-password":!0,placeholder:"请输入验证码",class:"input"},{append:r(()=>[t(c,{onClick:b,disabled:e(m),type:"primary"},{default:r(()=>[f(h(e(m)?e(y)+U:"获取验证码"),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),t(c,{class:"btn",type:"primary",onClick:E},{default:r(()=>[...o[2]||(o[2]=[f(" 确认账号",-1)])]),_:1})])}}}),re=A(G,[["__scopeId","data-v-4e50726c"]]);export{re as default};
