import{g as j,i as le,m as d,c as Y,o as k,a as z,N as X,C as S,B as E,p as e,t as Ee,b as V,w,j as H,L as we,v as ue,W as _e,r as T,V as De,T as Ie,S as ae,J as Q,E as Se,D as Te,a5 as Ae,ae as Be,K as se,y as ke,ad as Fe,a3 as Pe,G as $e}from"./B91_JGNm.js";import{u as Le,a as Oe,E as Ne,b as Re}from"./CzviV5vG.js";import{F as Me,t as ze,E as Ve,a as je}from"./BgU5F3RL.js";import{c as de,p as Ke,_ as ce,J as Ue,E as qe,b as Ge,e as ne,K as Je,q as Ze,H as te,g as We,u as Ye,w as Qe}from"./1AO-i3Qm.js";import{c as Xe}from"./D6FW0B1r.js";import{n as He,r as xe,c as eo}from"./BH2NPJ5c.js";import{U as fe}from"./BB_Ol6Sd.js";import{o as oo,u as re}from"./Cux0SVlX.js";const ve=Symbol("dialogInjectionKey"),ie="dialog-fade",ge=de({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:Ke},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=j({name:"ElDialogContent"}),so=j({...ao,props:ge,emits:lo,setup(o,{expose:c}){const u=o,{t:O}=He(),{Close:r}=Ue,{dialogRef:g,headerRef:_,bodyId:D,ns:n,style:f}=le(ve),{focusTrapRef:p}=le(Me),C=Xe(p,g),b=d(()=>!!u.draggable),v=d(()=>!!u.overflow),{resetPosition:m,updatePosition:A,isDragging:F}=Le(g,_,b,v),h=d(()=>[n.b(),n.is("fullscreen",u.fullscreen),n.is("draggable",b.value),n.is("dragging",F.value),n.is("align-center",!!u.alignCenter),{[n.m("center")]:u.center}]);return c({resetPosition:m,updatePosition:A}),(t,B)=>(k(),Y("div",{ref:e(C),class:E(e(h)),style:ue(e(f)),tabindex:"-1"},[z("header",{ref_key:"headerRef",ref:_,class:E([e(n).e("header"),t.headerClass,{"show-close":t.showClose}])},[S(t.$slots,"header",{},()=>[z("span",{role:"heading","aria-level":t.ariaLevel,class:E(e(n).e("title"))},Ee(t.title),11,["aria-level"])]),t.showClose?(k(),Y("button",{key:0,"aria-label":e(O)("el.dialog.close"),class:E(e(n).e("headerbtn")),type:"button",onClick:P=>t.$emit("close")},[V(e(qe),{class:E(e(n).e("close"))},{default:w(()=>[(k(),H(we(t.closeIcon||e(r))))]),_:1},8,["class"])],10,["aria-label","onClick"])):X("v-if",!0)],2),z("div",{id:e(D),class:E([e(n).e("body"),t.bodyClass])},[S(t.$slots,"default")],10,["id"]),t.$slots.footer?(k(),Y("footer",{key:0,class:E([e(n).e("footer"),t.footerClass])},[S(t.$slots,"footer")],2)):X("v-if",!0)],6))}});var no=ce(so,[["__file","dialog-content.vue"]]);const to=de({...ge,appendToBody:Boolean,appendTo:{type:ze.to.type,default:"body"},beforeClose:{type:ne(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:ne([String,Object]),default:void 0}}),ro={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[fe]:o=>Ge(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},io=(o,c)=>{var u;const r=_e().emit,{nextZIndex:g}=oo();let _="";const D=re(),n=re(),f=T(!1),p=T(!1),C=T(!1),b=T((u=o.zIndex)!=null?u:g());let v,m;const A=xe(),F=d(()=>{var l,s;return(s=(l=A.value)==null?void 0:l.namespace)!=null?s:Je}),h=d(()=>{var l;return(l=A.value)==null?void 0:l.dialog}),t=d(()=>{const l={},s=`--${F.value}-dialog`;if(!o.fullscreen){o.top&&(l[`${s}-margin-top`]=o.top);const i=Ze(o.width);i&&(l[`${s}-width`]=i)}return l}),B=d(()=>{var l,s,i;return((i=(s=o.draggable)!=null?s:(l=h.value)==null?void 0:l.draggable)!=null?i:!1)&&!o.fullscreen}),P=d(()=>{var l,s,i;return(i=(s=o.alignCenter)!=null?s:(l=h.value)==null?void 0:l.alignCenter)!=null?i:!1}),K=d(()=>{var l,s,i;return(i=(s=o.overflow)!=null?s:(l=h.value)==null?void 0:l.overflow)!=null?i:!1}),U=d(()=>P.value?{display:"flex"}:{}),q=d(()=>{var l,s,i;const Z=(i=(s=o.transition)!=null?s:(l=h.value)==null?void 0:l.transition)!=null?i:ie,be={name:Z,onAfterEnter:$,onBeforeLeave:L,onAfterLeave:I};if(De(Z)){const y={...Z},W=(M,he)=>ee=>{Ie(M)?M.forEach(oe=>{ae(oe)&&oe(ee)}):ae(M)&&M(ee),he()};return y.onAfterEnter=W(y.onAfterEnter,$),y.onBeforeLeave=W(y.onBeforeLeave,L),y.onAfterLeave=W(y.onAfterLeave,I),y.name||(y.name=ie),y}return be});function $(){r("opened")}function I(){r("closed"),r(fe,!1),o.destroyOnClose&&(C.value=!1)}function L(){r("close")}function G(){m?.(),v?.(),o.openDelay&&o.openDelay>0?{stop:v}=te(()=>x(),o.openDelay):x()}function a(){v?.(),m?.(),o.closeDelay&&o.closeDelay>0?{stop:m}=te(()=>J(),o.closeDelay):J()}function N(){function l(s){s||(p.value=!0,f.value=!1)}o.beforeClose?o.beforeClose(l):a()}function R(){o.closeOnClickModal&&N()}function x(){We&&(f.value=!0)}function J(){f.value=!1}function me(){r("openAutoFocus")}function ye(){r("closeAutoFocus")}function pe(l){var s;((s=l.detail)==null?void 0:s.focusReason)==="pointer"&&l.preventDefault()}o.lockScroll&&Oe(f);function Ce(){o.closeOnPressEscape&&N()}return Q(()=>o.zIndex,()=>{var l;b.value=(l=o.zIndex)!=null?l:g()}),Q(()=>o.modelValue,l=>{var s;l?(p.value=!1,G(),C.value=!0,b.value=(s=o.zIndex)!=null?s:g(),Te(()=>{r("open"),c.value&&(c.value.parentElement.scrollTop=0,c.value.parentElement.scrollLeft=0,c.value.scrollTop=0)})):f.value&&a()}),Q(()=>o.fullscreen,l=>{c.value&&(l?(_=c.value.style.transform,c.value.style.transform=""):c.value.style.transform=_)}),Se(()=>{o.modelValue&&(f.value=!0,C.value=!0,G())}),{afterEnter:$,afterLeave:I,beforeLeave:L,handleClose:N,onModalClick:R,close:a,doClose:J,onOpenAutoFocus:me,onCloseAutoFocus:ye,onCloseRequested:Ce,onFocusoutPrevented:pe,titleId:D,bodyId:n,closed:p,style:t,overlayDialogStyle:U,rendered:C,visible:f,zIndex:b,transitionConfig:q,_draggable:B,_alignCenter:P,_overflow:K}},uo=j({name:"ElDialog",inheritAttrs:!1}),co=j({...uo,props:to,emits:ro,setup(o,{expose:c}){const u=o,O=Ae();eo({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},d(()=>!!O.title));const r=Ye("dialog"),g=T(),_=T(),D=T(),{visible:n,titleId:f,bodyId:p,style:C,overlayDialogStyle:b,rendered:v,transitionConfig:m,zIndex:A,_draggable:F,_alignCenter:h,_overflow:t,handleClose:B,onModalClick:P,onOpenAutoFocus:K,onCloseAutoFocus:U,onCloseRequested:q,onFocusoutPrevented:$}=io(u,g);$e(ve,{dialogRef:g,headerRef:_,bodyId:p,ns:r,rendered:v,style:C});const I=Re(P),L=d(()=>u.modalPenetrable&&!u.modal&&!u.fullscreen);return c({visible:n,dialogContentRef:D,resetPosition:()=>{var a;(a=D.value)==null||a.resetPosition()},handleClose:B}),(a,N)=>(k(),H(e(je),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:w(()=>[V(Be,se(e(m),{persisted:""}),{default:w(()=>{var R;return[ke(V(e(Ne),{"custom-mask-event":"",mask:a.modal,"overlay-class":[(R=a.modalClass)!=null?R:"",`${e(r).namespace.value}-modal-dialog`,e(r).is("penetrable",e(L))],"z-index":e(A)},{default:w(()=>[z("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(f),"aria-describedby":e(p),class:E(`${e(r).namespace.value}-overlay-dialog`),style:ue(e(b)),onClick:e(I).onClick,onMousedown:e(I).onMousedown,onMouseup:e(I).onMouseup},[V(e(Ve),{loop:"",trapped:e(n),"focus-start-el":"container",onFocusAfterTrapped:e(K),onFocusAfterReleased:e(U),onFocusoutPrevented:e($),onReleaseRequested:e(q)},{default:w(()=>[e(v)?(k(),H(no,se({key:0,ref_key:"dialogContentRef",ref:D},a.$attrs,{center:a.center,"align-center":e(h),"close-icon":a.closeIcon,draggable:e(F),overflow:e(t),fullscreen:a.fullscreen,"header-class":a.headerClass,"body-class":a.bodyClass,"footer-class":a.footerClass,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:e(B)}),Fe({header:w(()=>[a.$slots.title?S(a.$slots,"title",{key:1}):S(a.$slots,"header",{key:0,close:e(B),titleId:e(f),titleClass:e(r).e("title")})]),default:w(()=>[S(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:w(()=>[S(a.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):X("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Pe,e(n)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var fo=ce(co,[["__file","dialog.vue"]]);const Eo=Qe(fo);export{Eo as E};
