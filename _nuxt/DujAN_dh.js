import{g as I,m as p,c as O,o as m,C as P,b as x,w as M,y as Q,a as D,v as W,p as o,B as g,d as ve,t as K,a3 as X,ae as Y,s as ee,r as B,E as he,J as Ce,j as C,N,L as be,F as Te,A as Se,D as Ee,x as z,Q as se,S as _,P as we,U as j}from"./B91_JGNm.js";import{u as Be,a as Ne,g as Me,E as $e}from"./B4Eicqft.js";import{c as te,e as $,_ as ne,u as Ie,i as b,q,w as ke,g as oe,p as Le,T as G,E as J,G as Ae,H as Oe,l as Pe,b as A,I as De}from"./1AO-i3Qm.js";import{m as _e}from"./Bp3YSIOJ.js";import{q as xe}from"./BH2NPJ5c.js";const ze=te({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:$([String,Object,Array])},offset:{type:$(Array),default:[0,0]},badgeClass:{type:String}}),Fe=I({name:"ElBadge"}),He=I({...Fe,props:ze,setup(s,{expose:a}){const e=s,t=Ie("badge"),i=p(()=>e.isDot?"":b(e.value)&&b(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`),r=p(()=>{var n;return[{backgroundColor:e.color,marginRight:q(-e.offset[0]),marginTop:q(e.offset[1])},(n=e.badgeStyle)!=null?n:{}]});return a({content:i}),(n,d)=>(m(),O("div",{class:g(o(t).b())},[P(n.$slots,"default"),x(Y,{name:`${o(t).namespace.value}-zoom-in-center`,persisted:""},{default:M(()=>[Q(D("sup",{class:g([o(t).e("content"),o(t).em("content",n.type),o(t).is("fixed",!!n.$slots.default),o(t).is("dot",n.isDot),o(t).is("hide-zero",!n.showZero&&n.value===0),n.badgeClass]),style:W(o(r))},[P(n.$slots,"content",{value:o(i)},()=>[ve(K(o(i)),1)])],6),[[X,!n.hidden&&(o(i)||n.isDot||n.$slots.content)]])]),_:3},8,["name"])],2))}});var Ue=ne(He,[["__file","badge.vue"]]);const Re=ke(Ue),u={placement:"top"},ae=["primary","success","info","warning","error"],le=["top","top-left","top-right","bottom","bottom-left","bottom-right"],T="top",c=_e({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:oe?document.body:void 0}),Ve=te({customClass:{type:String,default:c.customClass},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:Le,default:c.icon},id:{type:String,default:c.id},message:{type:$([String,Object,Function]),default:c.message},onClose:{type:$(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:ae,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},placement:{type:String,values:le,default:c.placement},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),Ze={destroy:()=>!0},f=ee({}),je=s=>(f[s]||(f[s]=ee([])),f[s]),qe=(s,a)=>{const e=f[a]||[],t=e.findIndex(n=>n.id===s),i=e[t];let r;return t>0&&(r=e[t-1]),{current:i,prev:r}},Ge=(s,a)=>{const{prev:e}=qe(s,a);return e?e.vm.exposed.bottom.value:0},Je=(s,a,e)=>(f[e]||[]).findIndex(r=>r.id===s)>0?16:a,Qe=I({name:"ElMessage"}),We=I({...Qe,props:Ve,emits:Ze,setup(s,{expose:a,emit:e}){const t=s,{Close:i}=Ae,r=B(!1),{ns:n,zIndex:d}=xe("message"),{currentZIndex:S,nextZIndex:F}=d,v=B(),E=B(!1),H=B(0);let k;const ie=p(()=>t.type?t.type==="error"?"danger":t.type:"info"),ce=p(()=>{const l=t.type;return{[n.bm("icon",l)]:l&&G[l]}}),U=p(()=>t.icon||G[t.type]||""),h=p(()=>t.placement||T),ue=p(()=>Ge(t.id,h.value)),R=p(()=>Je(t.id,t.offset,h.value)+ue.value),pe=p(()=>H.value+R.value),de=p(()=>h.value.includes("left")?n.is("left"):h.value.includes("right")?n.is("right"):n.is("center")),V=p(()=>h.value.startsWith("top")?"top":"bottom"),fe=p(()=>({[V.value]:`${R.value}px`,zIndex:S.value}));function L(){t.duration!==0&&({stop:k}=Oe(()=>{w()},t.duration))}function Z(){k?.()}function w(){E.value=!1,Ee(()=>{var l;r.value||((l=t.onClose)==null||l.call(t),e("destroy"))})}function me(l){Me(l)===$e.esc&&w()}return he(()=>{L(),F(),E.value=!0}),Ce(()=>t.repeatNum,()=>{Z(),L()}),Be(document,"keydown",me),Ne(v,()=>{H.value=v.value.getBoundingClientRect().height}),a({visible:E,bottom:pe,close:w}),(l,ge)=>(m(),C(Y,{name:o(n).b("fade"),onBeforeEnter:ye=>r.value=!0,onBeforeLeave:l.onClose,onAfterLeave:ye=>l.$emit("destroy"),persisted:""},{default:M(()=>[Q(D("div",{id:l.id,ref_key:"messageRef",ref:v,class:g([o(n).b(),{[o(n).m(l.type)]:l.type},o(n).is("closable",l.showClose),o(n).is("plain",l.plain),o(n).is("bottom",o(V)==="bottom"),o(de),l.customClass]),style:W(o(fe)),role:"alert",onMouseenter:Z,onMouseleave:L},[l.repeatNum>1?(m(),C(o(Re),{key:0,value:l.repeatNum,type:o(ie),class:g(o(n).e("badge"))},null,8,["value","type","class"])):N("v-if",!0),o(U)?(m(),C(o(J),{key:1,class:g([o(n).e("icon"),o(ce)])},{default:M(()=>[(m(),C(be(o(U))))]),_:1},8,["class"])):N("v-if",!0),P(l.$slots,"default",{},()=>[l.dangerouslyUseHTMLString?(m(),O(Te,{key:1},[N(" Caution here, message could've been compromised, never use user's input as message "),D("p",{class:g(o(n).e("content")),innerHTML:l.message},null,10,["innerHTML"])],2112)):(m(),O("p",{key:0,class:g(o(n).e("content"))},K(l.message),3))]),l.showClose?(m(),C(o(J),{key:2,class:g(o(n).e("closeBtn")),onClick:Se(w,["stop"])},{default:M(()=>[x(o(i))]),_:1},8,["class","onClick"])):N("v-if",!0)],46,["id"]),[[X,E.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var Ke=ne(We,[["__file","message.vue"]]);let Xe=1;const Ye=s=>{if(!s.appendTo)s.appendTo=document.body;else if(z(s.appendTo)){let e=document.querySelector(s.appendTo);Pe(e)||(e=document.body),s.appendTo=e}},es=s=>{!s.placement&&z(u.placement)&&u.placement&&(s.placement=u.placement),s.placement||(s.placement=T),le.includes(s.placement)||(s.placement=T)},re=s=>{const a=!s||z(s)||se(s)||_(s)?{message:s}:s,e={...c,...a};return Ye(e),es(e),A(u.grouping)&&!e.grouping&&(e.grouping=u.grouping),b(u.duration)&&e.duration===3e3&&(e.duration=u.duration),b(u.offset)&&e.offset===16&&(e.offset=u.offset),A(u.showClose)&&!e.showClose&&(e.showClose=u.showClose),A(u.plain)&&!e.plain&&(e.plain=u.plain),e},ss=s=>{const a=s.props.placement||T,e=f[a],t=e.indexOf(s);if(t===-1)return;e.splice(t,1);const{handler:i}=s;i.close()},ts=({appendTo:s,...a},e)=>{const t=`message_${Xe++}`,i=a.onClose,r=document.createElement("div"),n={...a,id:t,onClose:()=>{i?.(),ss(v)},onDestroy:()=>{j(null,r)}},d=x(Ke,n,_(n.message)||se(n.message)?{default:_(n.message)?n.message:()=>n.message}:null);d.appContext=e||y._context,j(d,r),s.appendChild(r.firstElementChild);const S=d.component,v={id:t,vnode:d,vm:S,handler:{close:()=>{S.exposed.close()}},props:d.component.props};return v},y=(s={},a)=>{if(!oe)return{close:()=>{}};const e=re(s),t=je(e.placement||T);if(e.grouping&&t.length){const r=t.find(({vnode:n})=>{var d;return((d=n.props)==null?void 0:d.message)===e.message});if(r)return r.props.repeatNum+=1,r.props.type=e.type,r.handler}if(b(u.max)&&t.length>=u.max)return{close:()=>{}};const i=ts(e,a);return t.push(i),i.handler};ae.forEach(s=>{y[s]=(a={},e)=>{const t=re(a);return y({...t,type:s},e)}});function ns(s){for(const a in f)if(we(f,a)){const e=[...f[a]];for(const t of e)(!s||s===t.props.type)&&t.handler.close()}}function os(s){if(!f[s])return;[...f[s]].forEach(e=>e.handler.close())}y.closeAll=ns;y.closeAllByPlacement=os;y._context=null;const us=De(y,"$message");export{us as E};
