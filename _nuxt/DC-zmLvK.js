import{E as g}from"./DhKVA3DV.js";import{E as P,a as b,b as E}from"./DUjTV1MO.js";import{E as v}from"./BH2NPJ5c.js";import"./1AO-i3Qm.js";import{E as y}from"./D_9vw2rQ.js";import{u as N}from"./B_O1vZMc.js";import{g as V,r as m,c as x,a as B,b as r,w as a,p as t,o as I,d as k,O as C,_ as F}from"./B91_JGNm.js";import"./B4Eicqft.js";import"./Bp3YSIOJ.js";import"./Cl2ZIHhT.js";import"./Cux0SVlX.js";import"./BB_Ol6Sd.js";import"./BhUPguzI.js";import"./D-oLGap2.js";import"./Dv1JYxKo.js";const R={class:"modify-container"},S=V({__name:"modify",emits:["changeActive"],setup(h,{emit:d}){const u=d,i=m(),f=()=>{i.value.validate(l=>{if(!l){y({type:"error",title:"密码修改失败",message:"请检查格式"});return}const{updateStep:e}=N();e(2),C("/login/forget/success"),u("changeActive")})},o=m({newPassword:"",confirmNewPassword:""}),c=m({newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{pattern:E,message:"密码需为6-18位，且包含字母和数字",trigger:"blur"}],confirmNewPassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:(l,e,s)=>{e!==o.value.newPassword?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}]});return(l,e)=>{const s=g,p=b,w=P,_=v;return I(),x("div",R,[e[3]||(e[3]=B("h2",{class:"title"},"修改密码",-1)),r(w,{rules:t(c),model:t(o),ref_key:"formRef",ref:i},{default:a(()=>[r(p,{label:"新密码","label-position":"top",prop:"newPassword"},{default:a(()=>[r(s,{placeholder:"请输入新密码",class:"input",modelValue:t(o).newPassword,"onUpdate:modelValue":e[0]||(e[0]=n=>t(o).newPassword=n),"show-password":!0,type:"password"},null,8,["modelValue"])]),_:1}),r(p,{label:"确认密码","label-position":"top",prop:"confirmNewPassword"},{default:a(()=>[r(s,{placeholder:"请再次输入密码",class:"input",modelValue:t(o).confirmNewPassword,"onUpdate:modelValue":e[1]||(e[1]=n=>t(o).confirmNewPassword=n),"show-password":!0,type:"password"},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"]),r(_,{class:"btn",type:"primary",onClick:f},{default:a(()=>[...e[2]||(e[2]=[k(" 确认修改",-1)])]),_:1})])}}}),W=F(S,[["__scopeId","data-v-c2492aca"]]);export{W as default};
